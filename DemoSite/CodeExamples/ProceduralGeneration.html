<!DOCTYPE html><html lang='en' >	<head><!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-XCYJV6WSHD"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-XCYJV6WSHD');
</script>		<meta charset='UTF-8'>		<title>Procedural Generation</title>		<meta http-equiv='Content -Type' content='text/html; charset=UTF-8'>		<meta name='description' content='Procedural Generation'/>		<meta name='keywords' content=''/>		<meta name='title' content='Procedural Generation'/>		<meta name='author' content='Electric Wolf'>		<meta name='viewport' content='width=device-width, initial-scale=1, shrink-to-fit=no'>		<link rel='stylesheet' href='../Scripts/style.css'><link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css'><script src='https://cdn.jsdelivr.net/npm/jquery@3.6.4/dist/jquery.slim.min.js'></script><script src='https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js'></script><script src='https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js'></script></head><nav class='navbar navbar-expand-md navbar-dark bg-dark'>
<a class='navbar-brand' href='../index.html'>Home</a>
<button class='navbar-toggler' type='button' data-toggle='collapse' data-target='#navbarsExample04' aria-controls='navbarsExample04' aria-expanded='false' aria-label='Toggle navigation'>
<span class='navbar-toggler-icon'></span>
</button>
<div class='collapse navbar-collapse' id='navbarsExample04'>
<ul class='navbar-nav mr-auto'>
<li class='nav-item active'><a class='nav-link'href='../Unity/Index.html'>Unity</a></li>
<li class='nav-item active'><a class='nav-link'href='../CodeExamples/index.html'>Code Examples</a></li>
<li class='nav-item active'><a class='nav-link'href='../Railways/index.html'>Railways</a></li>
<li class='nav-item active'><a class='nav-link'href='../VintageSciFi/index.html'>Vintage Sci-Fi</a></li>
</div>
</ul>
</div>
</nav>
<Body><!--09/01/2024--><div class='container mt-12'><div class='jumbotron'>
<div class='row'>
<div class='col-md-12'>
<h1>Procedural Generation</h1>
<p class='lead'></p>
</div>
</div>
</div>
<div class='row'><div class='col-md-12'><div class="d-flex flex-sm-row flex-column justify-content-between"><div class="border-end bg-white col-md-2" id="sidebar-wrapper"><div class="sticky-top"><div class="list-group list-group-flush"><a class="list-group-item list-group-item-action list-group-item-light p-2" href="#Overview">Overview</a><a class="list-group-item list-group-item-action list-group-item-light p-2" href="#Downloads">Downloads</a><a class="list-group-item list-group-item-action list-group-item-light p-2" href="#Files">Files</a></div></div></div><div id="page-content-wrapper col-md-8"><a id='Overview'></a>
<div class ='row bg-light'>
<div class='col-md-12'>
<div class='section-title'>
<div class='text-left'><h2>Overview</h2>
</div>
<div class='text-center'>Procedural Generating a mesh from code.</br></br>The video talks and shows you how to create a simple wall just by using code.</br></br>We build up the wall, polygon by polygon and, apply UV to define how the textures are used.</br></br><div class='text-center'><iframe width='854' height='480' src='https://www.youtube.com/embed/hEERhVO5Q_M?rel=0' frameborder='0' allowfullscreen></iframe></div></div></div>
</div>
</div>
<br />
<a id='Downloads'></a>
<div class ='row bg-light'>
<div class='col-md-12'>
<div class='section-title'>
<div class='text-left'><h2>Downloads</h2>
</div>
<div class='text-center'>You can download the the files..</br><a href="05 ProceduralGeneration/Data/ProceduralGeneration.unitypackage" download>Unity3D package</a></br></br><a href="05 ProceduralGeneration/Data/CreateMesh.cs" download>CreateMesh.cs</a></br></br><a href="05 ProceduralGeneration/Data/MeshBuilder.cs" download>MeshBuilder.cs</a></br></br><a href="05 ProceduralGeneration/Data/UVSet.cs" download>UVSet.cs</a></br></br><a href="05 ProceduralGeneration/Data/CreateMesh_UI.cs" download>CreateMesh_UI.cs</a></br></br></div></div>
</div>
</div>
<br />
<a id='Files'></a>
<div class ='row bg-light'>
<div class='col-md-12'>
<div class='section-title'>
<div class='text-left'><h2>Files</h2>
</div>
<div class='text-center'>CreateMesh.cs</br><div class='col-md-12'><div class='text-left'><div class="p-3 mb-2 bg-secondary text-white">using UnityEngine;</br></br>namespace eWolf.CodeExamples.ProceduralGeneration</br>{</br>&nbsp&nbsp&nbsp&nbsppublic class CreateMesh : MonoBehaviour</br>&nbsp&nbsp&nbsp&nbsp{</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppublic Material material;</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprivate MeshBuilder _meshBuilder = new MeshBuilder();</br></br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppublic void BuildMesh()</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp{</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp_meshBuilder = new MeshBuilder();</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspUVSet uvSet = new UVSet(1, 1);</br></br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfloat size = 1f;</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfloat width = 0.1f;</br></br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspVector3 xy = new Vector3(0, 0, 0);</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspVector3 xytop = xy + Vector3.up * size;</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspVector3 xyFar = xy + Vector3.forward * size;</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspVector3 xytopFar = xytop + Vector3.forward * size;</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp_meshBuilder.BuildQuad(xy, xyFar, xytop, xytopFar, uvSet);</br></br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspxy = new Vector3(width, 0, 0);</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspxytop = xy + Vector3.up * size;</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspxyFar = xy + Vector3.forward * size;</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspxytopFar = xytop + Vector3.forward * size;</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp_meshBuilder.BuildQuad(xytop, xytopFar, xy, xyFar, uvSet);</br></br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspUVSet uvSetEnd = new UVSet(width, 1);</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspxy = new Vector3(0, 0, 0);</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspxytop = xy + Vector3.up * size;</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspxyFar = xy + Vector3.right * width;</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspxytopFar = xytop + Vector3.right * width;</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp_meshBuilder.BuildQuad(xytop, xytopFar, xy, xyFar, uvSetEnd);</br></br></br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp_meshBuilder.ApplyMeshDetails(gameObject, material);</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}</br></br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppublic void ClearMesh()</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp{</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp_meshBuilder = new MeshBuilder();</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp_meshBuilder.ApplyMeshDetails(gameObject, material);</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}</br>&nbsp&nbsp&nbsp&nbsp}</br>}</br></div></div></div></br></br>MeshBuilder.cs</br><div class='col-md-12'><div class='text-left'><div class="p-3 mb-2 bg-secondary text-white">using System;</br>using System.Collections.Generic;</br>using UnityEngine;</br></br>namespace eWolf.CodeExamples.ProceduralGeneration</br>{</br>&nbsp&nbsp&nbsp&nbsppublic class MeshBuilder</br>&nbsp&nbsp&nbsp&nbsp{</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprivate List<Vector2> MeshUVs { get; set; } = new List<Vector2>();</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprivate List<Vector3> MeshVertices { get; set; } = new List<Vector3>();</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprivate List<int> Triangles { get; set; } = new List<int>();</br></br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppublic void ApplyMeshDetails(GameObject baseobject, Material material)</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp{</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspMesh mesh = new Mesh</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp{</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspname = $"MyMesh {DateTime.Now.ToShortDateString()}"</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp};</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspbaseobject.GetComponent<MeshFilter>().mesh = mesh;</br></br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspmesh.vertices = MeshVertices.ToArray();</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspmesh.uv = MeshUVs.ToArray();</br></br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspRenderer r = baseobject.GetComponent<Renderer>();</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspr.sharedMaterial = material;</br></br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspmesh.SetTriangles(Triangles.ToArray(), 0);</br></br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspmesh.subMeshCount = 1;</br></br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspmesh.RecalculateNormals();</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspmesh.RecalculateBounds();</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}</br></br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppublic void BuildQuad(Vector3 a, Vector3 b, Vector3 c, Vector3 d, UVSet uvset)</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp{</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspint indexA = AddVectorUVSets(a, uvset.BR);</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspint indexB = AddVectorUVSets(b, uvset.TR);</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspint indexC = AddVectorUVSets(c, uvset.BL);</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspint indexD = AddVectorUVSets(d, uvset.TL);</br></br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspTriangles.AddRange(new int[] { indexA, indexB, indexC });</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspTriangles.AddRange(new int[] { indexD, indexC, indexB });</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}</br></br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprivate int AddVectorUVSets(Vector3 points, Vector2 uvs)</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp{</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspMeshVertices.Add(points);</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspMeshUVs.Add(uvs);</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspreturn MeshVertices.Count - 1;</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}</br>&nbsp&nbsp&nbsp&nbsp}</br>}</br></div></div></div></br></br>UVSet.cs</br><div class='col-md-12'><div class='text-left'><div class="p-3 mb-2 bg-secondary text-white">using UnityEngine;</br></br>namespace eWolf.CodeExamples.ProceduralGeneration</br>{</br>&nbsp&nbsp&nbsp&nbsppublic class UVSet</br>&nbsp&nbsp&nbsp&nbsp{</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp/// <summary></br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp/// The Bottom left position</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp/// </summary></br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppublic Vector2 BL;</br></br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp/// <summary></br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp/// The bottom right postion</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp/// </summary></br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppublic Vector2 BR;</br></br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp/// <summary></br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp/// The top left position</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp/// </summary></br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppublic Vector2 TL;</br></br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp/// <summary></br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp/// The top right position</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp/// </summary></br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppublic Vector2 TR;</br></br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp/// <summary></br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp/// The Standard constructor</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp/// </summary></br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp/// <param name="topLeft">The top left UV</param></br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp/// <param name="topRight">The top right UV</param></br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp/// <param name="botLeft">The bottom left uv</param></br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp/// <param name="botRight">The bottom right uv</param></br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppublic UVSet(Vector2 topLeft, Vector2 topRight, Vector2 botLeft, Vector3 botRight)</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp{</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspTL = topLeft;</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspTR = topRight;</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspBL = botLeft;</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspBR = botRight;</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}</br></br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp/// <summary></br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp/// The Standard constructor</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp/// </summary></br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppublic UVSet()</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp{</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}</br></br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp/// <summary></br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp/// The Standard constructor</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp/// </summary></br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp/// <param name="x">The X position</param></br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp/// <param name="y">The Y position</param></br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppublic UVSet(float x, float y)</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp{</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspTL = new Vector2(0, 0);</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspTR = new Vector2(0, y);</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspBL = new Vector2(x, 0);</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspBR = new Vector2(x, y);</br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}</br>&nbsp&nbsp&nbsp&nbsp}</br>}</br></div></div></div></br></br></div></div>
</div>
</div>
<br />
</div></div></div></Body>